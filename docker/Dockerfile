# Basisimage
FROM node:latest AS build

# Arbeitsverzeichnis
WORKDIR /app

# Abh채ngigkeiten installieren
COPY package*.json ./
RUN npm install

# Quellcode kopieren und bauen
COPY . .
RUN npm run build --prod

# Basisimage f체r die Anwendung
FROM nginx:1.21-alpine

# HTML-, CSS- und JavaScript-Dateien in NGINX-Standardverzeichnis kopieren
COPY --from=build /app/dist/energycontrol-frontend /usr/share/nginx/html

# Port f체r die Anwendung freigeben
EXPOSE 80

# Startbefehl f체r NGINX
CMD ["nginx", "-g", "daemon off;"]
