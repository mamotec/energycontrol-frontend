<div class="card">
  <h2>Gruppen konfigurieren</h2>

  <app-add-button (add)="createDeviceGroup()"></app-add-button>

  <p-table [value]="deviceGroups"
           [scrollable]="true"
           scrollHeight="400px"
           rowGroupMode="subheader"
           groupRowsBy="interfaceConfig.description"
           [tableStyle]="{'min-width': '60rem'}">
    <ng-template pTemplate="header">
      <tr>
        <th>Name</th>
        <th>Gruppen typ</th>
        <th>Erstellt am</th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-group let-rowIndex="rowIndex">
      <tr>
        <td>
          {{group.name}}
        </td>
        <td>
          {{group.type}}
        </td>
        <td>
          {{group.createdAt | date: 'dd.MM.yyyy HH:mm'}}
        </td>

        <td style="text-align: center">
          <button pButton type="button" icon="pi pi-server" (click)="addDeviceToGroup(group)" pTooltip="Geräte hinzufügen"
                  class="p-button-rounded p-button-text"></button>

          <button pButton type="button" icon="pi pi-trash" (click)="deleteGroup(group)"
                  class="p-button-rounded p-button-text p-button-danger mr-2"></button>

        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
<app-delete-dialog></app-delete-dialog>
