<div class="card">
  <div class="flex">
    <h2>Direktvermarktung</h2>
    <i pTooltip="Die Direktvermarktung von PV-Anlagen ermöglicht es, den erzeugten Strom selbst zu verkaufen, anstatt ihn an einen Energieversorger zu liefern." class="pi pi-info-circle"></i>
  </div>

  <p-selectButton [pTooltip]="deviceGroups.length == 0 ? 'Direktvermarktung erst verfügbar, wenn es Gruppen gibt.': ''"
                  tooltipPosition="left"
                  [disabled]="deviceGroups.length == 0 && directMarketingGroups.length == 0"
                  (onOptionClick)="saveConfiguration()"
                  [options]="stateOptions"
                  [(ngModel)]="configuration.directMarketing"
                  optionLabel="label"
                  optionValue="value"></p-selectButton>

</div>

<div class="card" style="height: calc(100vh - 21rem);">
  <h2>Verwaltung</h2>
  <div class="grid">
    <div class="col-12 md:col-6 lg:col-3" *ngFor="let group of deviceGroups">
      <div class="card">
        <div class="grid" style="align-items: baseline">
          <div class="col-10">{{group.name}}</div>
          <div class="col-2">
            <p-checkbox [value]="group" [(ngModel)]="selectedGroups" (onChange)="updateGroup(group)"></p-checkbox>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
